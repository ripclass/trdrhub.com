# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_ISSUER=https://your-project.supabase.co/auth/v1
SUPABASE_AUDIENCE=authenticated
SUPABASE_JWKS_URL=https://your-project.supabase.co/auth/v1/.well-known/jwks.json

# Optional: configure a secondary IdP such as Auth0
AUTH0_ISSUER=
AUTH0_AUDIENCE=
AUTH0_JWKS_URL=

# Database (Supabase PostgreSQL)
# For pooled connection (app runtime): Use port 6543
# For direct connection (migrations): Use port 5432 (set DIRECT_DATABASE_URL)
# Note: Do NOT include ?pgbouncer=true - it will be automatically stripped
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:6543/postgres

# Direct connection for migrations (Supabase port 5432)
# Migrations require direct connection, not pooled
DIRECT_DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# Alternative Supabase DB connection
SUPABASE_DB_HOST=db.your-project.supabase.co
SUPABASE_DB_PASSWORD=your-password

# Application Settings
ENVIRONMENT=development
DEBUG=true
USE_STUBS=true
STUB_SCENARIO=lc_happy.json

# Security
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration (Production)
# Comma-separated list of allowed origins, e.g.:
# CORS_ALLOW_ORIGINS=https://trdrhub.com,https://www.trdrhub.com,https://trdrhub.vercel.app
# Leave unset for development (defaults to "*")
# CORS_ALLOW_ORIGINS=

# AWS Configuration (for file storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key-here
AWS_SECRET_ACCESS_KEY=your-secret-key-here
S3_BUCKET_NAME=lcopilot-documents

# Google Cloud Configuration (for OCR)
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_DOCUMENTAI_PROCESSOR_ID=your-processor-id
GOOGLE_DOCUMENTAI_LOCATION=us
GOOGLE_APPLICATION_CREDENTIALS_JSON=  # Paste JSON credentials blob for Render/Heroku or leave blank locally

# DeepSeek OCR Configuration (alternative to Google Cloud Document AI)
# Set USE_DEEPSEEK_OCR=true to use DeepSeek OCR instead of Google Cloud
USE_DEEPSEEK_OCR=false
DEEPSEEK_OCR_MODEL_NAME=deepseek-ai/deepseek-ocr
DEEPSEEK_OCR_DEVICE=  # Leave empty for auto-detect, or set to 'cuda' or 'cpu'

# Stub Mode Settings
STUB_DATA_DIR=./stubs
STUB_UPLOAD_DIR=/tmp/lcopilot_uploads
STUB_FAIL_OCR=false
STUB_FAIL_STORAGE=false

# RulHub API Integration (Phase 7)
USE_RULHUB_API=false
RULHUB_API_URL=https://api.rulhub.com
RULHUB_API_KEY=

# AI/LLM Configuration
# Enable AI enrichment in validation pipeline
AI_ENRICHMENT=true
LLM_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=  # Optional: for Anthropic Claude models
LLM_MODEL_VERSION=gpt-4o-mini
ANTHROPIC_MODEL_VERSION=claude-3-haiku-20240307

# Semantic AI Configuration (for cross-document fuzzy comparisons)
# Enable semantic_check operator in rule engine
AI_SEMANTIC_ENABLED=true
# Model to use for semantic comparisons (should be cost-effective)
AI_SEMANTIC_MODEL=gpt-4o-mini
# Low-cost model fallback (currently same as primary)
AI_SEMANTIC_LOW_COST_MODEL=gpt-4o-mini
# Confidence threshold for semantic matches (0.0-1.0, default 0.82 = 82%)
AI_SEMANTIC_THRESHOLD_DEFAULT=0.82
# Timeout for semantic AI calls in milliseconds (default 6000ms = 6 seconds)
AI_SEMANTIC_TIMEOUT_MS=6000
